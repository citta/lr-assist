<html>
	<head>
		<title>Live Report Assist Tool</title>
		<link href="lr.css" type="text/css" rel="stylesheet" />
		<script type="text/javascript" src="livereport.js"></script>
		<script type="text/javascript" src="filesaver/FileSaver.js"></script>
		<script type="text/javascript" src="lr_file.js"></script>
		<script type="text/javascript" src="style.js"></script>
		<script type="text/javascript">
			window.onbeforeunload = function(){
				 return "Contents will be lost.";
			}
		</script>
	</head>
	<body>
		<div id="actionbar">
			<input type="file" id="load_everything" style="display: none;" onchange="load_everything()" />
			<input type="image" src="icons/open.png" value="Load" onclick="document.getElementById('load_everything').click()" /> <a href="#" onclick="document.getElementById('load_everything').click()">Open</a>
			<input type="image" src="icons/disk.png" id="save_everything" value="Save" onclick="save_everything()" style="margin-left:10px;" /> <a href="#" onclick="save_everything()">Save As...</a>
		</div>
		<div id="below_actionbar"></div>
		<h2 style="display: inline; margin-left: 10px;">Setup</h2> <a href="#" id="toggle_setup_link" onclick="toggle_setup()">[hide]</a>
		<div id="setup_area">
			<div id="template_area">
				<h3>Input Template</h3>
				<textarea id="template_input" rows="10" cols="80"></textarea>
			</div>
			<div id="maps">
				<input type="file" id="load_mapfile" style="display: none;" onchange="load_maps()" />
				<h3 style="display:inline">Setup Maps</h3>
				<input type="image" src="icons/open_map.png" value="Load Maps" onclick="document.getElementById('load_mapfile').click()" />
				<input type="image" src="icons/disk.png" id="save_mapfile" value="Save Maps" onclick="save_maps()" />
				<table>
					<tr>
						<th>Short name</th>
						<th>Verbose name (Link)</th>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="map_short[]" size="20" /></td>
						<td><input type="text" name="map_long[]" size="20" /></td>
					</tr>
				</table>
			</div>
			<div id="players">
				<h3>Setup Players</h3>
				<table>
					<tr>
						<th>Short name</th>
						<th>Verbose name (TLPD'd)</th>
					</tr>
					<tr>
						<td><input type="text" name="player_short[]" size="20" /></td>
						<td><input type="text" name="player_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="player_short[]" size="20" /></td>
						<td><input type="text" name="player_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="player_short[]" size="20" /></td>
						<td><input type="text" name="player_long[]" size="20" /></td>
					</tr>
					<tr>
						<td><input type="text" name="player_short[]" size="20" /></td>
						<td><input type="text" name="player_long[]" size="20" /></td>
					</tr>
				</table>
			</div>
			<div style="clear: both;"></div>
			<div class="update">
				<input type="button" class="update_button" value="Update" onclick="gsl_update()" />
			</div>
		</div>
		<div id="matches">
			<h2>Matches</h2>
			<h4>Initial Match 1</h4>
			<table>
				<tr>
					<th></th>
					<th></th>
					<th>Map</th>
					<th>Outcome</th>
					<th>Recommended?</th>
					<th>Show</th>
					<th>Live Report (URL)</th>
					<th>No Report</th>
				</tr>
				<tr>
					<td id="initial_1_1_left" class="reserved_width"></td>
					<td id="initial_1_1_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_1_1_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_1_1_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_1_1_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_1_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_1_1_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_1_noreport" />
					</td>
				</tr>

				<tr>
					<td id="initial_1_2_left" class="reserved_width"></td>
					<td id="initial_1_2_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_1_2_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_1_2_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_1_2_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_2_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_1_2_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_2_noreport" />
					</td>
				</tr>

				<tr>
					<td id="initial_1_3_left" class="reserved_width"></td>
					<td id="initial_1_3_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_1_3_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_1_3_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_1_3_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_3_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_1_3_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_1_3_noreport" />
					</td>
				</tr>
			</table>
			<h4>Initial Match 2</h4>
			<table>
				<tr>
					<th></th>
					<th></th>
					<th>Map</th>
					<th>Outcome</th>
					<th>Recommended?</th>
					<th>Show</th>
					<th>Live Report (URL)</th>
					<th>No Report</th>
				</tr>
				<tr>
					<td id="initial_2_1_left" class="reserved_width"></td>
					<td id="initial_2_1_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_2_1_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_2_1_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_2_1_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_1_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_2_1_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_1_noreport" />
					</td>
				</tr>

				<tr>
					<td id="initial_2_2_left" class="reserved_width"></td>
					<td id="initial_2_2_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_2_2_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_2_2_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_2_2_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_2_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_2_2_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_2_noreport" />
					</td>
				</tr>

				<tr>
					<td id="initial_2_3_left" class="reserved_width"></td>
					<td id="initial_2_3_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="initial_2_3_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="initial_2_3_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="initial_2_3_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_3_showpoll" />
					</td>
					<td>
						<input type="text" id="initial_2_3_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="initial_2_3_noreport" />
					</td>
				</tr>
			</table>
			<h4>Winners' Matches</h4>

			<table>
				<tr>
					<th></th>
					<th></th>
					<th>Map</th>
					<th>Outcome</th>
					<th>Recommended?</th>
					<th>Show</th>
					<th>Live Report (URL)</th>
					<th>No Report</th>
				</tr>
				<tr>
					<td id="winners_1_left" class="reserved_width"></td>
					<td id="winners_1_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="winners_1_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="winners_1_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="winners_1_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_1_showpoll" />
					</td>
					<td>
						<input type="text" id="winners_1_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_1_noreport" />
					</td>
				</tr>

				<tr>
					<td id="winners_2_left" class="reserved_width"></td>
					<td id="winners_2_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="winners_2_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="winners_2_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="winners_2_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_2_showpoll" />
					</td>
					<td>
						<input type="text" id="winners_2_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_2_noreport" />
					</td>
				</tr>

				<tr>
					<td id="winners_3_left" class="reserved_width"></td>
					<td id="winners_3_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="winners_3_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="winners_3_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="winners_3_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_3_showpoll" />
					</td>
					<td>
						<input type="text" id="winners_3_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="winners_3_noreport" />
					</td>
				</tr>
			</table>
			
			<h4>Losers' Matches</h4>
			<table>
				<tr>
					<th></th>
					<th></th>
					<th>Map</th>
					<th>Outcome</th>
					<th>Recommended?</th>
					<th>Show</th>
					<th>Live Report (URL)</th>
					<th>No Report</th>
				</tr>
				<tr>
					<td id="losers_1_left" class="reserved_width"></td>
					<td id="losers_1_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="losers_1_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="losers_1_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="losers_1_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_1_showpoll" />
					</td>
					<td>
						<input type="text" id="losers_1_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_1_noreport" />
					</td>
				</tr>

				<tr>
					<td id="losers_2_left" class="reserved_width"></td>
					<td id="losers_2_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="losers_2_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="losers_2_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="losers_2_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_2_showpoll" />
					</td>
					<td>
						<input type="text" id="losers_2_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_2_noreport" />
					</td>
				</tr>

				<tr>
					<td id="losers_3_left" class="reserved_width"></td>
					<td id="losers_3_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="losers_3_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="losers_3_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="losers_3_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_3_showpoll" />
					</td>
					<td>
						<input type="text" id="losers_3_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="losers_3_noreport" />
					</td>
				</tr>
			</table>
			<h4>Final Matches</h4>
			<table>
				<tr>
					<th></th>
					<th></th>
					<th>Map</th>
					<th>Outcome</th>
					<th>Recommended?</th>
					<th>Show</th>
					<th>Live Report (URL)</th>
					<th>No Report</th>
				</tr>
				<tr>
					<td id="final_1_left" class="reserved_width"></td>
					<td id="final_1_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="final_1_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="final_1_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="final_1_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_1_showpoll" />
					</td>
					<td>
						<input type="text" id="final_1_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_1_noreport" />
					</td>
				</tr>

				<tr>
					<td id="final_2_left" class="reserved_width"></td>
					<td id="final_2_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="final_2_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="final_2_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="final_2_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_2_showpoll" />
					</td>
					<td>
						<input type="text" id="final_2_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_2_noreport" />
					</td>
				</tr>

				<tr>
					<td id="final_3_left" class="reserved_width"></td>
					<td id="final_3_right" class="reserved_width"></td>
					<td>
						<select name="select_map" id="final_3_map" class="reserved_width">
						</select>
					</td>
					<td>
						<select id="final_3_score">
							<option>Undecided</option>
							<option>Team 1 Win</option>
							<option>Team 2 Win</option>
							<option>Not needed</option>
						</select>
					</td>

					<td>
						<input type="text" id="final_3_poll" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_3_showpoll" />
					</td>
					<td>
						<input type="text" id="final_3_report" size="20" />
					</td>
					<td>
						<input type="checkbox" id="final_3_noreport" />
					</td>
				</tr>
			</table>
			<div class="update">
				<input type="button" class="update_button" value="Update" onclick="gsl_update()" />
			</div>
		</div>

		<div id="output_area">
			<h2>Output (Ctrl-A, Ctrl-C to copy)</h2>
			<textarea id="print_output" rows="10" cols="80" readonly></textarea>
		</div>
	</body>
</html>
